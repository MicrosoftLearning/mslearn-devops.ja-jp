---
lab:
  topic: Advanced
  title: マルチリージョン Web アプリをデプロイし、Traffic Manager と Azure Chaos Studio を使用して回復性を高める
  description: マルチリージョン Web アプリケーションをデプロイし、Traffic Manager を使用してワークロードの回復性を高め、Azure Chaos Studio を使用して回復性をテストする方法を学習します。
---

# マルチリージョン Web アプリをデプロイし、Traffic Manager と Azure Chaos Studio を使用して回復性を高める

このラボでは、Web アプリケーションを複数の Azure リージョンにデプロイし、Azure Traffic Manager を使用してワークロードの回復性を高め、Azure Chaos Studio を使用して回復性をテストする方法について学習します。

このラボの各タスクは前のタスクに基づくため、順番に完了することが重要です。

学習内容:

- ラボ用の Azure サブスクリプションを準備する
- Azure App Service Web アプリを 2 つの Azure リージョンにデプロイする
- Traffic Manager を使用してワークロードの回復性を強化する
- Azure Chaos Studio を使用してワークロードの回復性をテストする

> **注:**  このラボでは、.NET Web アプリの 2 つのインスタンスを 2 つの Azure リージョン (米国東部と米国西部) にデプロイし、この 2 つの Web アプリ インスタンス間で Azure Traffic Manager の負荷分散機能を実装する回復性に優れた構成を作成します。 次に、Azure Chaos Studio を使用して、いずれかのアプリの障害をトリガーし、負荷分散実装の回復性をテストします。 必要に応じて、自分の所在地に近いリージョンに合わせて、使用するリージョンを調整できます。

このラボの所要時間は約 **60** 分です。

## 開始する前に

このラボを終えるには、次のものが必要です。

- GitHub ユーザー アカウント。 アカウントがない場合は、[新しいアカウントを作成](https://github.com/join)できます。 GitHub アカウントを作成する手順が必要な場合は、記事「[GitHub でのアカウントの作成](https://docs.github.com/get-started/quickstart/creating-an-account-on-github)」を参照してください。
- 少なくとも共同作成者レベルのアクセス権を持っている Azure サブスクリプション。 まだお持ちでない場合は、[サインアップ](https://azure.microsoft.com/)できます。

## ラボ用の Azure サブスクリプションを準備する

> **注:**  新しい Azure サブスクリプションを使用している場合、一部の Azure リソース プロバイダーが登録されていない可能性があります。 登録プロセスには数分かかる場合があるため、待機時間を最小限に抑えるために、このラボの初めに登録します。

> **注:**  このラボでは、Azure Chaos Studio を使用します。 お使いのサブスクリプションで Azure Chaos Studio を初めて実装する場合は、最初に対応するリソース プロバイダーを登録する必要があります。

1. Web ブラウザーを開始し、Azure portal (`https://portal.azure.com`) にアクセスします。
1. メッセージが表示されたら、使用可能な Azure サブスクリプションへの所有者アクセス権を持つ Microsoft Entra ID アカウントを使用して、サインインします。
1. Azure portal が表示されている Web ブラウザー タブで、ページ上部の検索テキスト ボックスに「**`Subscriptions`**」と入力し、結果の一覧で **[サブスクリプション]** を選択します。
1. [サブスクリプション] ページの左側にある垂直メニューで、**[リソース プロバイダー]** を選びます。
1. リソース プロバイダーの一覧で、**Microsoft.Chaos** を検索して選択します。
1. **Microsoft.Chaos** リソース プロバイダーが選択されている状態で、ツール バーの **[登録]** を選びます。

   > **注:**  登録が完了するまで待つ必要はありません。次の演習に直接進んでください。 登録には数分かかる場合があります。

## Azure App Service Web アプリを 2 つの Azure リージョンにデプロイする

この演習では、eShopOnWeb .NET Web アプリケーションの 2 つのインスタンスを 2 つの異なる Azure リージョン (米国東部と米国西部) 内の Azure App Service にデプロイします。 必要に応じて、自分の所在地により近いリージョンを使用するようにこれらの手順を調整できます。

演習は次のタスクで構成されます。

- eShopOnWeb リポジトリをフォークする
- Web アプリを米国東部にデプロイする
- Web アプリを米国西部にデプロイする

### eShopOnWeb リポジトリをフォークする

1. 同じブラウザー ウィンドウで別のタブを開き、サンプル Web サイトの .NET バージョンをホストする [eShopOnWeb](https://github.com/MicrosoftLearning/eShopOnWeb) リポジトリに移動します。
1. **eShopOnWeb** リポジトリ ページで、**[フォーク]** を選びます。
1. **[新しいフォークの作成]** ページで、**[所有者]** ドロップダウン リスト エントリに GitHub ユーザー名が表示されていることを確認し、**[リポジトリ名]** テキスト ボックスで既定のエントリ **eShopOnWeb** を受け入れ、**[Copy the main branch only] (メイン ブランチのみをコピーする)** チェック ボックスがオンになっていることを確認して、**[フォークの作成]** を選びます。

### Web アプリを米国東部にデプロイする

1. Azure portal タブに戻ります。
1. Azure portal で、上部のナビゲーション バーにある [Cloud Shell] アイコンを選択して、Azure Cloud Shell を開きます。
1. **Bash** または **PowerShell** の選択を求めるメッセージが表示されたら、**[Bash]** を選択します。

   > **注**: **Cloud Shell** を初めて起動し、[**ストレージがマウントされていません**] というメッセージが表示された場合は、このラボで使用しているサブスクリプションを選択し、**[ストレージの作成]** を選択します。

1. **Cloud Shell** ペインの **Bash** セッションから、次のコマンドを実行して、eShopOnWeb リポジトリをクローンします。

   > **注:**  次のコマンドの `{YOUR_GITHUB_USERNAME}` を実際の GitHub ユーザー名に置き換えてください。 たとえば、GitHub ユーザー名が `johnsmith` の場合、コマンドは次のようになります: `git clone https://github.com/johnsmith/eShopOnWeb.git`

   ```bash
   git clone https://github.com/{YOUR_GITHUB_USERNAME}/eShopOnWeb.git
   cd eShopOnWeb
   ```

1. 次のコマンドを実行してリソース グループを作成し、Web アプリを米国東部にデプロイします。

   ```bash
   # Create resource group for East US
   az group create --name rg-eshoponweb-eastus --location eastus

   # Deploy the Bicep template for East US
   az deployment group create \
     --resource-group rg-eshoponweb-eastus \
     --template-file infra/webapp.bicep \
     --parameters webAppName=eshop-eastus-$(uuidgen) \
                  sku=F1 \
                  linuxFxVersion="DOTNETCORE|8.0"
   ```

1. デプロイが完了するまで待ちます。 この処理には数分かかる場合があります。

> **注**:`The content for this response was already consumed` エラーが発生した場合は、指定した場所に十分なクォータがない可能性があるため、別のリージョンにリソースを作成する必要があります。

### Web アプリを米国西部にデプロイする

1. 次のコマンドを実行して、Web アプリを米国西部にデプロイします。

   ```bash
   # Create resource group for West US
   az group create --name rg-eshoponweb-westus --location westus

   # Deploy the Bicep template for West US
   az deployment group create \
     --resource-group rg-eshoponweb-westus \
     --template-file infra/webapp.bicep \
     --parameters webAppName=eshop-westus-$(uuidgen) \
                  sku=F1 \
                  linuxFxVersion="DOTNETCORE|8.0"
   ```

1. デプロイが完了するまで待ちます。 この処理には数分かかる場合があります。

   > **注:**  Traffic Manager の構成に必要になるため、両方の Web アプリの名前を記録しておいてください。

## Traffic Manager を使用してワークロードの回復性を強化する

この演習では、Azure Traffic Manager を使用して、2 つの異なる Azure リージョンにある 2 つの .NET Web アプリ インスタンスに要求を分散する、回復性のある構成を実装します。

> **注:**  ラボの目的のために、ここでは米国東部リージョンにある .NET ベースの Web アプリ eShopOnWeb のデプロイをプライマリ インスタンスと考えます。 今回このように考えるのは完全に恣意的 (かつデモンストレーションだけが目的) ですが、いずれかのエンドポイントを優先すると有益なシナリオも存在する可能性があります。

演習は次のタスクで構成されます。

- Traffic Manager プロファイルを実装する
- Traffic Manager の機能を確認する

### Traffic Manager プロファイルを実装する

1. Azure portal が表示されている Web ブラウザー タブで、ページ上部の検索テキスト ボックスに「**`Traffic Manager profiles`**」と入力し、結果の一覧で **[Traffic Manager プロファイル]** を選択します。
1. **[負荷分散サービス \| Traffic Manager]** ページで、**[+ 作成]** を選択します。
1. **[Traffic Manager プロファイルの作成]** ページで、次の操作を実行します。

   - **[名前]** テキスト ボックスに「**`devopsfoundationstmprofile`**」と入力します。

     > **注:**  Traffic Manager プロファイルの名前はグローバルに一意である必要があります。 名前が既に使用されているというエラー メッセージが表示される場合は、別の名前をお試しください。名前は必ず記録しておいてください。 このラボ全体で必要になります。

   - **[ルーティング方法]** ドロップダウン リストで **[優先度]** を選択します。

   > **注:**  優先度によるルーティング方法を選ぶのは、すべての要求を米国東部にある Azure App Service Web アプリで処理する必要があるという、やや恣意的な仮定を反映するためです。

   - 使用する Azure サブスクリプションが **[サブスクリプション]** ドロップダウン リストに表示されることを確認します
   - **[リソース グループ]** ドロップダウン リストで **[`rg-devops-foundations`]** を選択します。

     > **注:**  このようなリソース グループがない場合は、**[新規作成]** を選択し、テキスト ボックスに「**`rg-devops-foundations`**」と入力し、**[OK]** を選択します。

   - **[リソース グループの場所]** ドロップダウン リストで、**[米国東部]** (または米国東部 Web アプリのデプロイ時に選択した Azure リージョンと同じリージョン) を選択します。

1. **[作成]** を選択して、プロビジョニング プロセスを開始します。

   > **注**: デプロイが完了するまで待ちます。 これは 1 分以内に完了するはずです。

1. **[負荷分散サービス \| Traffic Manager]** ページで、必要に応じて **[最新の情報に更新]** を選択してから、**devopsfoundationstmprofile** を選択します。
1. **[devopsfoundationstmprofile]** ページの **[要点]** セクションで、**[DNS 名]** 設定の値をコピーして記録しておきます。 これはこのラボ全体で必要になります。
1. **[devopsfoundationstmprofile]** ページの左ナビゲーション メニューにある **[設定]** セクションで、**[構成]** を選択します。
1. **[devopsfoundationstmprofile \| 構成]** ページの内容を確認します。 既定では、**[DNS の有効期限 (TTL)]** が **60** 秒に設定されていることに注意してください。 この値を **5** 秒に変更します。

   > **注:**  TTL の値を小さくすると、フェールオーバー時間が短縮されます。

   > **注:**  TTL の値に加えて、プローブ間隔、プローブのタイムアウト、許容される障害数も、エンドポイントの障害が検出される時間に影響します。

1. **[devopsfoundationstmprofile \| 構成]** ページの **[プロトコル]** ドロップダウン リストで **[HTTPS]** を選択し、**[ポート]** テキスト ボックスに「**443**」と入力します。

   > **注:**  エンドポイントとして構成する両方の Azure App Service Web アプリには、HTTPS 経由で既定の TCP ポート 443 でアクセスできます。

1. **[devopsfoundationstmprofile \| 構成]** ページで、**[保存]** を選択します。
1. **[devopsfoundationstmprofile]** ページの左ナビゲーション メニューにある **[設定]** セクションで、**[エンドポイント]** を選択します。
1. **[devopsfoundationstmprofile | エンドポイント]** ページで、**[+ 追加]** を選択します。

   > **注:**  最初に、Azure App Service Web アプリを表すエンドポイントを追加します。

1. **[エンドポイントの追加]** ペインで、次の操作を実行します。

   - **[種類]** ドロップダウン リストで **[Azure エンドポイント]** が表示されることを確認します。
   - **[名前]** テキスト ボックスに「**`DevOps Foundations web app - East US`**」と入力します。
   - **[Enable Endpoint] (エンドポイントの有効化)** チェックボックスがオンになっていることを確認します。
   - **[ターゲット リソースの種類]** ドロップダウン リストで、**[App Service]** を選択します。
   - **[ターゲット リソース]** ドロップダウン リストの **[rg-eshoponweb-eastus]** セクションで、米国東部 Azure リージョンにデプロイした App Service Web アプリの名前を選択します。
   - **[優先度]** テキスト ボックスに「**1**」と入力します。

   > **注:**  優先度の値が小さいほど、優先順位が高くなります。 今回は、すべての要求が米国東部リージョンの Web アプリ インスタンスに送信されます (そのインスタンスが使用可能な状態である限り)。

   - **[正常性チェック]** が有効になっていることを確認します。

1. **[追加]** を選択します。

1. **[devopsfoundationstmprofile | エンドポイント]** ページに戻り、**[+ 追加]** を選択します。

   > **注:**  次に、西ヨーロッパの Azure リージョンにデプロイしたもう 1 つの Azure App Service Web アプリを表すエンドポイントを追加します。

1. **[エンドポイントの追加]** ペインで、次の操作を実行します。

   - **[種類]** ドロップダウン リストで **[Azure エンドポイント]** が表示されることを確認します。
   - **[名前]** テキスト ボックスに「**`DevOps Foundations web app - West US`**」と入力します。
   - **[Enable Endpoint] (エンドポイントの有効化)** チェックボックスがオンになっていることを確認します。
   - **[ターゲット リソースの種類]** ドロップダウン リストで、**[App Service]** を選択します。
   - **[ターゲット リソース]** ドロップダウン リストの **[rg-eshoponweb-westeurope]** セクションで、米国西部 Azure リージョンにデプロイした App Service Web アプリの名前を選択します。
   - **[優先度]** テキスト ボックスに「**2**」と入力します。
   - **[正常性チェック]** が有効になっていることを確認します。

1. **[追加]** を選択します。
1. **[devopsfoundationstmprofile | エンドポイント]** ページに戻り、両方のエンドポイントが一覧表示され、**[状態の監視]** 列が **[オンライン]** エントリであることを確認します。

   > **注:**  状態エントリを最新の状態にするために、数分待ってから **[最新の情報に更新]** を選択する必要がある場合があります。

### Traffic Manager の機能を確認する

1. Web ブラウザー ウィンドウを起動し、Traffic Manager プロファイルに関連付けられている DNS 名に移動します。
1. このラボで先ほどデプロイした Azure App Service Web アプリによってホストされる Web サイトの見慣れたページが Web ブラウザーに表示されることを確認します。
1. 新しく開いた Web ブラウザー ウィンドウを閉じます。
1. Azure portal が表示されている Web ブラウザー ウィンドウに切り替えます。
1. Azure portal で、検索テキスト ボックスの右にある **[Azure Cloud Shell]** アイコンを選択します。
1. 必要に応じて、[Cloud Shell] ペインの左上隅にあるドロップダウン メニューで **[Bash]** を選びます。
1. [Cloud Shell] ペイン内の Bash セッションで次のコマンドを実行して、前のタスクで作成した Traffic Manager プロファイルの DNS 名を、対応する 2 つのエンドポイントのいずれかに解決します (プレースホルダー `{tm_profile}` は Traffic Manager プロファイルの DNS 名に置き換えてください。例: `devopsfoundationstmprofile.trafficmanager.net`)。ただし、先頭の `https:\\` は削除してください。

   ```cli
   nslookup {tm_profile}
   ```

1. 同じコマンドを数回再実行します。5 秒以上間を空けてから各呼び出しを行ってください (DNS キャッシュの可能性を排除するため)。各呼び出しの出力で、米国東部 Azure リージョンにある Web アプリの DNS 名が参照されていることに注意してください。

## Azure Chaos Studio を使用してワークロードの回復性をテストする

この演習では、Azure Chaos Studio を使用してワークロードの回復性をテストします。

> **注:**  この演習では、Azure Chaos Studio の使用方法を示します。 Azure Chaos Studio の目的は、アプリケーションとサービスの回復性の測定、理解、構築を支援することです。 それを実現するために、回復性のギャップを特定し、対応する軽減策を事後対応的ではなく予防的に実装するために、ワークロードを意図的に中断させます。

演習は次のタスクで構成されます。

- Azure Chaos Studio 環境を構成する
- 実験を実装する
- 実験を検証する

### Azure Chaos Studio 環境を構成する

1. Azure portal が表示されている Web ブラウザー タブで、ページ上部の検索テキスト ボックスに「**`Chaos Studio`**」と入力し、結果の一覧で **[Chaos Studio]** を選択します。
1. **[Chaos Studio]** ページで、**[ターゲット]** を選択します。
1. **[Chaos Studio \| ターゲット]** ページで、このラボで先ほど米国東部リージョンにデプロイした **rg-eshoponweb-eastus** リソース グループ内の Azure App Service Web アプリのインスタンスを選択します。
1. ツール バーで、**[Enable targets] (ターゲットを有効にする)** ドロップダウン リストのヘッダーを選択し、ドロップダウン リストから **[サービス直接ターゲット (すべてのリソース) を有効にする]** を選択します。
1. **[Enable service direct targets] (サービス直接ターゲットを有効にする)** ページで、適切な App Service Web アプリ インスタンスが表示されていることを確認し、**[確認と有効化]** を選択して、**[有効化]** を選択します。

   > **注:**  ターゲットが有効になるまで待ちます。 これに要する時間は 1 分未満です。

### 実験を実装する

1. Azure portal で、ページ上部の検索テキスト ボックスに「**`Chaos Studio`**」と入力し、結果の一覧で **[Chaos Studio]** を選択します。
1. **[Chaos Studio]** ページで、**[実験]** を選択します。
1. **[実験]** ページで、**[+ 作成]** を選択してから、ドロップダウン リストで **[新しい実験]** を選択します。
1. **[Create an experiment] (実験を作成する)** ページの **[基本]** タブで、次の操作を実行します。

   - 使用する Azure サブスクリプションが **[サブスクリプション]** ドロップダウン リストに表示されることを確認します。
   - **[リソース グループ]** ドロップダウン リストの下にある **[新規作成]** リンクを選択し、**[名前]** テキスト ボックスに「**`rg-devops-foundations`**」と入力して、**[OK]** を選択します。
   - **[実験の詳細]** セクションの **[名前]** テキスト ボックスに「**`DevOps_Foundations_Labs_Experiment_01`**」と入力します。
   - **[リージョン]** ドロップダウン リストで、**[米国西部]** Azure リージョンを選択します。

   > **注:**  任意の Azure リージョンを選択することもできますが、米国東部リージョン内のリソースの障害をテストすることを考慮すると、米国西部などの別のリージョンを選択することをお勧めします。

1. **[Create an experiment] (実験を作成する)** ページの **[基本]** タブで、**[次へ: アクセス許可 >]** を選択します。
1. **[アクセス許可]** タブで、既定のオプション **[システム割り当て ID]** をそのまま使用し、**[次へ: 実験デザイナー]** を選択します。
1. **[実験デザイナー]** タブで、次の操作を実行します。

   - **[ステップ]** テキスト ボックスに「**`Step 1: Failover an App Service web app`**」と入力します。
   - **[ブランチ]** テキスト ボックスに「**`Branch 1: Emulate an App Service failure`**」と入力します。
   - **[+ アクションの追加]** を選択し、ドロップダウン リストで **[障害の追加]** を選択します。

1. **[障害の追加]** ペインの **[Fault details] (障害の詳細)** タブで、**[障害]** ドロップダウン リストから **[Stop App Service] (App Service の停止)** を選択し、**[期間 (分)]** の値を 10 に設定します。
1. **[障害の追加]** ペインの **[Fault details] (障害の詳細)** タブで、**[次へ: ターゲット リソース >]** を選択します。
1. **[障害の追加]** ペインの **[ターゲット リソース]** タブで、**[Manually select from a list] (リストから手動で選択)** オプションが選択されていることを確認し、Chaos Studio 環境にターゲットとして追加した App Service Web アプリを選んでから、**[追加]** を選択します。
1. **[Create an experiment] (実験を作成する)** ページの **[Experiment designer] (実験デザイナー)** タブに戻り、**[確認および作成]** を選択します。
1. **[Create an experiment] (実験を作成する)** ページの **[確認および作成]** タブで、**[作成]** を選択します。

   > **注:**  実験が作成されるまで待ちます。 これに要する時間は 1 分未満です。

   > **注:**  実験を成功させるためには、新しく作成した管理サービス アカウントに、Azure App Service Web アプリを停止できるアクセス許可を付与する必要もあります。 この目的のために、ここでは組み込みの Azure 共同作成者ロールを利用しますが、最小限の特権の原則に従いたい場合はカスタム ロールを作成することもできます。

1. Azure portal で、ページ上部の検索テキスト ボックスに「**`App Services`**」と入力し、結果の一覧で **[App Services]** を選択します。
1. **[App Services]** ページで、このラボで先ほど米国東部リージョンにデプロイした Azure App Service Web アプリを選択します。
1. Web アプリのページで、左側の垂直メニューから **[アクセスの制御 (IAM)]** を選択します。
1. Web アプリの **[アクセスの制御 (IAM)]** ページで、**[+ 追加]** を選択し、ドロップダウン リストで **[ロールの割り当てを追加]** を選択します。
1. **[ロールの割り当てを追加]** ページの **[ロール]** タブで、**[特権管理者ロール]** を選択し、ロールの一覧から **[共同作成者]** を選択して、**[次へ]** を選択します。
1. **[ロールの割り当てを追加]** ページの **[メンバー]** タブで、**[Assigned access to] (アクセスの割り当て先)** オプションを **[マネージド ID]** に設定し、**[+ メンバーを選択する]** を選びます
1. **[マネージド ID の選択]** ペインの **[マネージド ID]** ドロップダウン リストで **[Chaos Experiment] (カオス実験)** を選択し、マネージド ID の一覧からこのタスクで先ほど作成した ID を選択して、**[選択]** を選びます。
1. **[ロールの割り当ての追加]** ページの **[メンバー]** タブに戻り、**[確認と割り当て]** を選択してから、もう一度 **[確認と割り当て]** を選択します。

### 実験を検証する

1. Azure portal で、**[Chaos Studio]** ページに戻り、左側の垂直メニューで **[実験]** を選択します。
1. 実験の一覧で、**[DevOps_Foundations_Labs_Experiment_01]** を選択します。
1. **[DevOps_Foundations_Labs_Experiment_01]** ページで **[開始]** を選択し、確認を求められたら **[OK]** を選択します。
1. 実験の状態が **[実行中]** に変わるまで待ちます。
1. **[DevOps_Foundations_Labs_Experiment_01]** ページの **[履歴]** セクションで、現在の実験の実行を表すエントリの **[詳細]** リンクを選択します。
1. **[DevOps_Foundations_Labs_Experiment_01]** 実験の詳細ページで、実験に関連付けられているステップ、ブランチ、アクションを含む一覧を確認します。

   > **注:**  場合によっては、**[最新の情報に更新]** ツール バー エントリを選択して一覧の状態を更新する必要があります。

1. **[アクション]** エントリを選択して、**[Fault details] (障害の詳細)]** ペインを表示します。
1. **[Running targets] (実行中のターゲット)** セクションで、Azure App Service Web アプリを表すエントリを選択します。
1. Web アプリ ページの **[要点]** セクションで、Web アプリの状態が **[停止]** と表示されていることに注意してください。

   > **注:**  場合によっては、**[最新の情報に更新]** ツール バー エントリを選択して Web アプリの状態を更新する必要があります。

   > **注:**  次に、Traffic Manager によって、そのプロファイルを対象とする要求が、米国西部リージョンの App Service Web アプリを表すエンドポイントに正常にリダイレクトされているかどうかを確認します。

1. Web ブラウザーを起動し、Traffic Manager プロファイルに関連付けられている DNS 名に移動します。
1. このラボで先ほどデプロイした Azure App Service Web アプリによってホストされる Web サイトの見慣れたページが Web ブラウザーに表示されることを確認します。
1. Azure portal が表示されている Web ブラウザー ウィンドウに切り替えます。
1. Azure portal で、検索テキスト ボックスの右にある **[Azure Cloud Shell]** アイコンを選択します。
1. [Cloud Shell] ペイン内の Bash セッションで次のコマンドを実行して、前の演習で作成した Traffic Manager プロファイルの DNS 名を、対応する 2 つのエンドポイントのいずれかに解決します (プレースホルダー `<tm_profile>` は Traffic Manager プロファイルの DNS 名に置き換えてください。ただし、先頭の `https://` は削除してください)。

   ```cli
   nslookup <tm_profile>
   ```

1. 5 秒以上の間隔を空けて (DNS キャッシュの可能性を排除するため) 同じコマンドを数回呼び出して再実行し、各呼び出しの出力で、米国西部 Azure リージョンの Web アプリの DNS 名が参照されていることを確認します。

> **注:**  この例はあまりにも単純に見えるかもしれませんが、この演習の第一の目的は、Azure Chaos Studio ベースのテストとその主なコンポーネントを実装するプロセスを説明することでした。 Azure App Service Web アプリがより複雑な環境の一部であり、その障害の影響を予測するのがはるかに困難な場合も、同等のアプローチを使用できます。

## リソースをクリーンアップする

これで演習が完了したので、不要なリソース使用を避けるために、作成したクラウド リソースを削除してください。

1. Azure portal に移動し、**[リソース グループ]** に移動します。
1. **[rg-devops-foundations]** リソース グループ (Traffic Manager プロファイルが含まれているグループ) を選択します。
1. ツール バーの **[リソース グループの削除]** を選びます。
1. リソース グループ名を入力し、削除することを確認します。
1. **rg-eshoponweb-eastus** および **rg-eshoponweb-westus** の各リソース グループに対して同じプロセスを繰り返します。

> **注:** リソース グループを削除すると、その中のすべてのリソースが削除されます。 この演習で既存のリソース グループを選択した場合は、この演習の範囲外にある既存のリソースも削除されます。

GitHub リポジトリのリソースは、参照およびポートフォリオ項目として引き続き使用できるため、クリーンアップする必要はありません。

リポジトリを削除する場合は、ドキュメント「[リポジトリの削除](https://docs.github.com/repositories/creating-and-managing-repositories/deleting-a-repository)」に従って削除できます。
